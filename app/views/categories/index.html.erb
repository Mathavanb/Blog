<p id="notice"><%= notice %></p>


<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <div id="new"></div>
  </div>

</div>

<h1>Categories</h1><br>
<%= button_tag 'New Category',data:{remote:true},id:"myBtn" %>
<br><br>
<table style="border-spacing: 10px">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th colspan="3">Action</th>
    </tr>
  </thead>

  <tbody id="new1">
    <% @categories.each do |category| %>
      <tr>
        <%= render 'list',category:category %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Category', new_category_path %> |
<%= link_to 'View All Products', products_path %>


<script>
    // Get the modal
    var modal = document.getElementById("myModal");

    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");


    var span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal
    btn.onclick = function() {
        modal.style.display = "block";
    }

    span.onclick = function() {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

</script>

<script>
  $('#new').html('<%= j(render 'form',category:Category.new) %>')
</script>